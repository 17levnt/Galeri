<!DOCTYPE html>

<html lang="tr">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Levent | Fotoğraf Galerisi</title>

  <link rel="icon" type="image/png" href="favicon.png"/>

  <style>

    body {

      margin: 0;

      background: #fff;

      font-family: "Inter", sans-serif;

      color: #000;

      overflow-x: hidden;

    }



    /* --- ÜST MENÜ --- */

    header {

      display: flex;

      justify-content: space-between;

      align-items: center;

      padding: 16px 24px;

      border-bottom: 1px solid #ddd;

      background: rgba(255, 255, 255, 0.95);

      position: sticky;

      top: 0;

      z-index: 10;

    }



    .logo {

      font-size: 20px;

      font-weight: 600;

    }



    .menu-icon {

      width: 24px;

      cursor: pointer;

      display: flex;

      flex-direction: column;

      justify-content: space-between;

      height: 16px;

    }



    .menu-icon span {

      display: block;

      height: 2px;

      width: 100%;

      background-color: #000;

      border-radius: 1px;

    }



    /* --- ALBÜM MENÜSÜ --- */

    #albumMenu {

      position: fixed;

      top: 60px;

      right: 16px;

      background: rgba(255, 255, 255, 0.92);

      border: 1px solid rgba(0, 0, 0, 0.15);

      border-radius: 12px;

      padding: 12px 0;

      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);

      z-index: 100;

      backdrop-filter: blur(8px);

      transition: opacity 0.3s ease;

    }



    #albumMenu.hidden {

      display: none;

    }



    #albumMenu div {

      padding: 10px 24px;

      cursor: pointer;

      font-weight: 500;

    }



    #albumMenu div:hover {

      background: rgba(0, 0, 0, 0.05);

    }


/* --- GALERİ (Kare Izgara ve Sütun Kontrolü) --- */
#gallery {
  display: grid;
  gap: 8px; /* Öğeler arası eşit boşluk */
  padding: 58px;
}

/* Dikey ekran (9:16) → 2 sütun */
@media screen and (orientation: portrait) {
  #gallery {
    grid-template-columns: repeat(2, 1fr); /* Tam 2 sütun */
  }
}

/* Yatay ekran (16:9) → 3 sütun */
@media screen and (orientation: landscape) {
  #gallery {
    grid-template-columns: repeat(3, 1fr); /* Tam 3 sütun */
  }
}

/* Fotoğraf kutularının kare olmasını sağla */
.photo-box {
  background: #000; /* Boş kalan kısımlar siyah olacak */
  overflow: hidden;
  border-radius: 4px;
  
  /* Kare yapmanın anahtarı: */
  width: 100%; 
  padding-top: 100%; /* Yüksekliği genişliğe eşitle (1:1 en boy oranı) */
  position: relative; 
}

/* 'photo-box img' kuralını sığdırma (contain) olarak güncelliyoruz */
.photo-box img {
  /* img'yi kapsayıcının (photo-box'ın) içine sığdır */
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  
  /* Görseli kutuya sığdırmak için: */
  /* object-fit: contain; /* EN BOY ORANINI koruyarak kutuya sığdırır */
  object-scale: 80%;
  object-position: center; /* Resmi ortalar */

  display: block;
  cursor: pointer;
  user-select: none;
  -webkit-user-drag: none;
  transition: transform 0.3s ease;
}


    .photo-box img:hover {

      transform: scale(1.03);

    }



    /* --- OVERLAY (Fotoğraf büyük görünümü) --- */

    #overlay {

      position: fixed;

      top: 0; left: 0;

      width: 100%; height: 100%;

      background: rgba(0, 0, 0, 0.9);

      display: none;

      align-items: center;

      justify-content: center;

      flex-direction: column;

      z-index: 1000;

      touch-action: manipulation;

    }



    #overlay img {

      max-width: 90vw;

      max-height: 90vh;

    }



    #overlay span {

      color: #fff;

      margin-top: 10px;

    }



    #closeBtn, #prevBtn, #nextBtn {

      position: absolute;

      color: #fff;

      font-size: 32px;

      background: rgba(0, 0, 0, 0.5);

      border: none;

      padding: 10px 14px;

      cursor: pointer;

      z-index: 1001;

      user-select: none;

      opacity: 0;

      pointer-events: none;

      transition: opacity 0.3s ease;

    }



    #overlay.show-controls #closeBtn,

    #overlay.show-controls #prevBtn,

    #overlay.show-controls #nextBtn {

      opacity: 1;

      pointer-events: auto;

    }



    #closeBtn {

      top: 10px;

      right: 20px;

    }



    #prevBtn {

      left: 20px;

      bottom: 20px;

    }



    #nextBtn {

      right: 20px;

      bottom: 20px;

    }



  </style>

</head>

<body>



  <header>

    <div class="logo">Levent</div>

    <div class="menu-icon" id="menuToggle">

      <span></span>

      <span></span>

      <span></span>

    </div>

  </header>



  <div id="albumMenu" class="hidden"></div>



  <div id="gallery"></div>



  <div id="overlay">

    <button id="closeBtn">✕</button>

    <button id="prevBtn">‹</button>

    <img id="overlayImage" src="" alt="">

    <button id="nextBtn">›</button>

    <span id="imageCounter"></span>

  </div>



  <script>

    const menuToggle = document.getElementById("menuToggle");

    const albumMenu = document.getElementById("albumMenu");

    const gallery = document.getElementById("gallery");

    const overlay = document.getElementById("overlay");

    const overlayImage = document.getElementById("overlayImage");

    const imageCounter = document.getElementById("imageCounter");

    const closeBtn = document.getElementById("closeBtn");

    const prevBtn = document.getElementById("prevBtn");

    const nextBtn = document.getElementById("nextBtn");



    let currentAlbum = "";

    let currentIndex = 0;

    let currentImages = [];

    let controlsVisible = true;



    menuToggle.addEventListener("click", () => {

      albumMenu.classList.toggle("hidden");

    });



    closeBtn.onclick = hideOverlay;

    prevBtn.onclick = () => showOverlay((currentIndex - 1 + currentImages.length) % currentImages.length);

    nextBtn.onclick = () => showOverlay((currentIndex + 1) % currentImages.length);



    // Albümleri yükle

    fetch("Galeri/albums.json")

      .then(res => res.json())

      .then(albums => {

        albums.forEach(album => {

          const div = document.createElement("div");

          div.textContent = album;

          div.onclick = () => {

            loadAlbum(album);

            albumMenu.classList.add("hidden");

          };

          albumMenu.appendChild(div);

        });

        loadAlbum(albums[0]);

      });



    function loadAlbum(album) {

      gallery.innerHTML = "Yükleniyor...";

      fetch(`Galeri/${album}/index.json`)

        .then(res => res.json())

        .then(images => {

          currentAlbum = album;

          currentImages = images;

          gallery.innerHTML = "";

          images.forEach((filename, idx) => {

            const box = document.createElement("div");

            box.className = "photo-box";

            const img = document.createElement("img");

            img.src = `Galeri/${album}/${filename}`;

            img.onclick = () => showOverlay(idx);

            box.appendChild(img);

            gallery.appendChild(box);

          });

        })

        .catch(() => gallery.innerHTML = "Fotoğraflar yüklenemedi.");

    }



    function showOverlay(index) {

      overlay.style.display = "flex";

      overlay.classList.add("show-controls");

      overlay.classList.remove("hide-controls");

      controlsVisible = true;

      currentIndex = index;

      overlayImage.src = `Galeri/${currentAlbum}/${currentImages[index]}`;

      imageCounter.textContent = `(${index + 1}/${currentImages.length})`;

    }



    function hideOverlay() {

      overlay.style.display = "none";

    }



    overlay.addEventListener("click", (e) => {

      if (e.target === overlay) hideOverlay();

    });



    document.addEventListener("keydown", e => {

      if (overlay.style.display === "flex") {

        if (e.key === "ArrowRight") showOverlay((currentIndex + 1) % currentImages.length);

        if (e.key === "ArrowLeft") showOverlay((currentIndex - 1 + currentImages.length) % currentImages.length);

        if (e.key === "Escape") hideOverlay();

      }

    });

  </script>

</body>

</html>




